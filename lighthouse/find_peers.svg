<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2269px" height="2971px" viewBox="-0.5 -0.5 2269 2971" content="&lt;mxfile&gt;&lt;diagram id=&quot;T8pmpTCMuDaPm9wjzUCa&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="40" y="160" width="410" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 408px; height: 1px; padding-top: 190px; margin-left: 41px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">beacon_node::lighthouse_network::behaviour::Behaviour</div></div></div></foreignObject><text x="245" y="194" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">beacon_node::lighthouse_network::behaviour::Behaviour</text></switch></g><path d="M 240 1220 L 240 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 80 280 L 233.63 280" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 238.88 280 L 231.88 283.5 L 233.63 280 L 231.88 276.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 271px; margin-left: 158px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">Behaviour::new()</div></div></div></foreignObject><text x="158" y="274" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">Behaviour::new()</text></switch></g><path d="M 240 2940 L 240 215" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><rect x="520" y="160" width="410" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 408px; height: 1px; padding-top: 190px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">beacon_node::lighthouse_network::discovery::Discovery</div></div></div></foreignObject><text x="725" y="194" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">beacon_node::lighthouse_network::discovery::Discovery</text></switch></g><path d="M 240 360 L 703.63 360" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 708.88 360 L 701.88 363.5 L 703.63 360 L 701.88 356.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 351px; margin-left: 467px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">Discovery::discover_peers()</div></div></div></foreignObject><text x="467" y="354" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">Discovery::discover_peers()</text></switch></g><path d="M 724.5 1220 L 724.5 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 0 0 L 310 0 L 340 30 L 340 100 L 0 100 L 0 0 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 0 L 310 30 L 340 30 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 310 0 L 310 30 L 340 30" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 50px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">######################################<br />起動時にPeerを見つけるシーケンス<br />######################################</div></div></div></foreignObject><text x="170" y="54" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">######################################...</text></switch></g><path d="M 730 390 Q 800 390 800 470 Q 800 550 726.37 550" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 721.12 550 L 728.12 546.5 L 726.37 550 L 728.12 553.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 402px; margin-left: 791px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">Self::start_query()</div></div></div></foreignObject><text x="791" y="405" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">Self::start_query()</text></switch></g><rect x="1050" y="160" width="260" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 190px; margin-left: 1051px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Discv5</div></div></div></foreignObject><text x="1180" y="194" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Discv5</text></switch></g><path d="M 800 460 L 1183.63 460" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1188.88 460 L 1181.88 463.5 L 1183.63 460 L 1181.88 456.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 451px; margin-left: 989px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">Discv5::find_node_predicate()</div></div></div></foreignObject><text x="989" y="454" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">Discv5::find_node_predicate()</text></switch></g><path d="M 1190 1220 L 1190 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 880 360 L 1090 360 L 1120 390 L 1120 435 L 880 435 L 880 360 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1090 360 L 1090 390 L 1120 390 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 1090 360 L 1090 390 L 1120 390" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 398px; margin-left: 881px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; "><span style="font-weight: normal">ランダムなNodeIDに対して<br />FIND_NODEクエリを実行する</span></div></div></div></foreignObject><text x="1000" y="401" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">ランダムなNodeIDに対して...</text></switch></g><path d="M 1180 500 L 806.37 500" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 801.12 500 L 808.12 496.5 L 806.37 500 L 808.12 503.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 521px; margin-left: 991px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">FIND_NODEクエリを実行する future を返す</div></div></div></foreignObject><text x="991" y="524" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">FIND_NODEクエリを実行する future を返す</text></switch></g><path d="M 1200 480 Q 1270 480 1270 560 Q 1270 640 1196.37 640" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1191.12 640 L 1198.12 636.5 L 1196.37 640 L 1198.12 643.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 492px; margin-left: 1261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">FIND_NODEクエリの実行</div></div></div></foreignObject><text x="1261" y="495" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">FIND_NODEクエリの実行</text></switch></g><path d="M 740 600 Q 810 600 810 680 Q 810 760 736.37 760" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 731.12 760 L 738.12 756.5 L 736.37 760 L 738.12 763.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 591px; margin-left: 791px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">poll()</div></div></div></foreignObject><text x="791" y="594" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">poll()</text></switch></g><path d="M 810 630 Q 880 630 880 690 Q 880 750 816.37 750" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 811.12 750 L 818.12 746.5 L 816.37 750 L 818.12 753.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 615px; margin-left: 861px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">poll_queries()</div></div></div></foreignObject><text x="861" y="618" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">poll_queries()</text></switch></g><path d="M 880 650 Q 950 650 945 685 Q 940 720 886.37 720" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 881.12 720 L 888.12 716.5 L 886.37 720 L 888.12 723.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 640px; margin-left: 950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">process_completed_queries()</div></div></div></foreignObject><text x="950" y="643" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">process_completed_queries()</text></switch></g><path d="M 610 790 L 820 790 L 850 820 L 850 890 L 610 890 L 610 790 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 820 790 L 820 820 L 850 820 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 820 790 L 820 820 L 850 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 840px; margin-left: 611px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; "><span style="font-weight: normal">FIND_NODEクエリの結果を</span><br /><span style="font-weight: normal">libp2pのイベントで返す</span></div></div></div></foreignObject><text x="730" y="844" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">FIND_NODEクエリの結果を...</text></switch></g><path d="M 600 870 L 840 870 L 870 900 L 870 970 L 600 970 L 600 870 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 840 870 L 840 900 L 870 900 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 840 870 L 840 900 L 870 900" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 268px; height: 1px; padding-top: 920px; margin-left: 602px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; "><span style="font-weight: 400"><br />    NetworkBehaviourAction::GenerateEvent(</span><br /><span style="font-weight: 400">        </span>DiscoveryEvent::QueryResult<br />    )</div></div></div></foreignObject><text x="602" y="924" fill="#000000" font-family="Helvetica" font-size="12px" font-weight="bold">NetworkBehaviourAction::GenerateEvent(...</text></switch></g><path d="M 260 990 Q 330 990 330 1070 Q 330 1150 256.37 1150" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 251.12 1150 L 258.12 1146.5 L 256.37 1150 L 258.12 1153.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 971px; margin-left: 411px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">impl NetworkBehaviourEventProcess&lt;DiscoveryEvent&gt; for Behaviour<br />inject_event()</div></div></div></foreignObject><text x="411" y="974" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">impl NetworkBehaviourEventProcess&lt;DiscoveryEvent&gt; for Behaviour...</text></switch></g><path d="M 330 1030 L 640 1030 L 670 1060 L 670 1130 L 330 1130 L 330 1030 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 640 1030 L 640 1060 L 670 1060 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 640 1030 L 640 1060 L 670 1060" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 338px; height: 1px; padding-top: 1080px; margin-left: 332px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>DiscoveryEvent::QueryResult</b> から PeerId を取り出して<br />self.internal_events に内部イベントとして追加する</div></div></div></foreignObject><text x="332" y="1084" fill="#000000" font-family="Helvetica" font-size="12px">DiscoveryEvent::QueryResult から PeerId を取り出して...</text></switch></g><path d="M 250 1230 Q 320 1230 320 1310 Q 320 1390 246.37 1390" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 241.12 1390 L 248.12 1386.5 L 246.37 1390 L 248.12 1393.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1221px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">poll()</div></div></div></foreignObject><text x="281" y="1224" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">poll()</text></switch></g><path d="M 365 1110 L 610 1110 L 640 1140 L 640 1210 L 365 1210 L 365 1110 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 610 1110 L 610 1140 L 640 1140 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 610 1110 L 610 1140 L 640 1140" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 273px; height: 1px; padding-top: 1160px; margin-left: 366px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">InternalBehaviourMessage::DialPeer(peer_id)</div></div></div></foreignObject><text x="503" y="1164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">InternalBehaviourMessage::DialPeer(peer_id)</text></switch></g><path d="M 320 1250 L 630 1250 L 660 1280 L 660 1350 L 320 1350 L 320 1250 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 630 1250 L 630 1280 L 660 1280 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 630 1250 L 630 1280 L 660 1280" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 338px; height: 1px; padding-top: 1300px; margin-left: 322px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="text-align: center">self.internal_eventsから<br />InternalBehaviourMessage::DialPeer(peer_id)<br />を取り出して、その Peer に接続する<br /></span></div></div></div></foreignObject><text x="322" y="1304" fill="#000000" font-family="Helvetica" font-size="12px">self.internal_eventsから...</text></switch></g><path d="M 352.5 1340 L 597.5 1340 L 627.5 1370 L 627.5 1440 L 352.5 1440 L 352.5 1340 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 597.5 1340 L 597.5 1370 L 627.5 1370 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 597.5 1340 L 597.5 1370 L 627.5 1370" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 273px; height: 1px; padding-top: 1390px; margin-left: 354px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">NetworkBehaviourAction::DialPeer</div></div></div></foreignObject><text x="490" y="1394" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">NetworkBehaviourAction::DialPeer</text></switch></g><rect x="1390" y="160" width="410" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 408px; height: 1px; padding-top: 190px; margin-left: 1391px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">beacon_node::lighthouse_network::peer_manager::PeerManager</div></div></div></foreignObject><text x="1595" y="194" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">beacon_node::lighthouse_network::peer_manager::PeerManager</text></switch></g><path d="M 1600 2440 L 1600 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1620 1560 Q 1690 1560 1690 1815 Q 1690 2070 1616.37 2070" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1611.12 2070 L 1618.12 2066.5 L 1616.37 2070 L 1618.12 2073.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1551px; margin-left: 1741px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">impl NetworkBehaviour for PeerManager<br />inject_connection_established()</div></div></div></foreignObject><text x="1741" y="1554" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">impl NetworkBehaviour for PeerManager...</text></switch></g><path d="M 1685 1580 L 2075 1580 L 2105 1610 L 2105 1630 L 1685 1630 L 1685 1580 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2075 1580 L 2075 1610 L 2105 1610 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 2075 1580 L 2075 1610 L 2105 1610" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 1605px; margin-left: 1687px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="text-align: center">・BANや接続数上限の判定<br />・接続の向き（incoming か outgoing か）を判定する<br /></span></div></div></div></foreignObject><text x="1687" y="1609" fill="#000000" font-family="Helvetica" font-size="12px">・BANや接続数上限の判定...</text></switch></g><path d="M 1683 1990 L 2063 1990 L 2093 2020 L 2093 2090 L 1683 2090 L 1683 1990 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2063 1990 L 2063 2020 L 2093 2020 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 2063 1990 L 2063 2020 L 2093 2020" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 408px; height: 1px; padding-top: 2040px; margin-left: 1684px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; "><span style="font-weight: 400">self.events に、下記の PeerManager の内部イベントを追加する</span><br />PeerManagerEvent::PeerConnectedIncoming<br />PeerManagerEvent::PeerConnectedOutgoing<br />PeerManagerEvent::Status</div></div></div></foreignObject><text x="1888" y="2044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">self.events に、下記の PeerManager の内部イベントを追加する...</text></switch></g><path d="M 1620 2220 Q 1690 2220 1690 2300 Q 1690 2380 1616.37 2380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1611.12 2380 L 1618.12 2376.5 L 1616.37 2380 L 1618.12 2383.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2201px; margin-left: 1741px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">impl NetworkBehaviour for PeerManager<br />poll()</div></div></div></foreignObject><text x="1741" y="2204" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">impl NetworkBehaviour for PeerManager...</text></switch></g><path d="M 1710 2250 L 2023 2250 L 2053 2280 L 2053 2350 L 1710 2350 L 1710 2250 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2023 2250 L 2023 2280 L 2053 2280 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 2023 2250 L 2023 2280 L 2053 2280" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 341px; height: 1px; padding-top: 2300px; margin-left: 1712px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="text-align: center">self.events から内部イベントを取り出して<br />libp2pのイベントを返す<br /></span></div></div></div></foreignObject><text x="1712" y="2304" fill="#000000" font-family="Helvetica" font-size="12px">self.events から内部イベントを取り出して...</text></switch></g><path d="M 1740 2330 L 2006 2330 L 2036 2360 L 2036 2430 L 1740 2430 L 1740 2330 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2006 2330 L 2006 2360 L 2036 2360 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 2006 2330 L 2006 2360 L 2036 2360" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 282px; height: 1px; padding-top: 2380px; margin-left: 1754px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">NetworkBehaviourAction::GenerateEvent(<br />    PeerManagerEvent<br />)</div></div></div></foreignObject><text x="1754" y="2384" fill="#000000" font-family="Helvetica" font-size="12px" font-weight="bold">NetworkBehaviourAction::GenerateEvent(...</text></switch></g><path d="M 270 2380 Q 340 2380 340 2460 Q 340 2540 266.37 2540" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 261.12 2540 L 268.12 2536.5 L 266.37 2540 L 268.12 2543.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2361px; margin-left: 421px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">impl NetworkBehaviourEventProcess&lt;PeerManagerEvent&gt; for Behaviour<br />inject_event()</div></div></div></foreignObject><text x="421" y="2364" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">impl NetworkBehaviourEventProcess&lt;PeerManagerEvent&gt; for Behaviour...</text></switch></g><path d="M 352.5 2420 L 662.5 2420 L 692.5 2450 L 692.5 2520 L 352.5 2520 L 352.5 2420 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 662.5 2420 L 662.5 2450 L 692.5 2450 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 662.5 2420 L 662.5 2450 L 692.5 2450" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 338px; height: 1px; padding-top: 2470px; margin-left: 355px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="text-align: center">PeerManagerEventを BehaviourEvent に替えて<br />self.events に追加する<br /></span></div></div></div></foreignObject><text x="355" y="2474" fill="#000000" font-family="Helvetica" font-size="12px">PeerManagerEventを BehaviourEvent に替えて...</text></switch></g><path d="M 374.5 2499.88 L 640.5 2499.88 L 670.5 2529.88 L 670.5 2599.88 L 374.5 2599.88 L 374.5 2499.88 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 640.5 2499.88 L 640.5 2529.88 L 670.5 2529.88 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 640.5 2499.88 L 640.5 2529.88 L 670.5 2529.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 282px; height: 1px; padding-top: 2550px; margin-left: 389px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">BehaviourEvent::PeerConnectedIncoming<br />BehaviourEvent::PeerConnectedOutgoing<br />BehaviourEvent::StatusPeer</div></div></div></foreignObject><text x="389" y="2553" fill="#000000" font-family="Helvetica" font-size="12px" font-weight="bold">BehaviourEvent::PeerConnectedIncoming...</text></switch></g><path d="M 260 2669.88 Q 330 2669.88 330 2749.88 Q 330 2829.88 256.37 2829.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 251.12 2829.88 L 258.12 2826.38 L 256.37 2829.88 L 258.12 2833.38 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2650px; margin-left: 291px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">poll()</div></div></div></foreignObject><text x="291" y="2654" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">poll()</text></switch></g><path d="M 360 2701.88 L 670 2701.88 L 700 2731.88 L 700 2801.88 L 360 2801.88 L 360 2701.88 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 670 2701.88 L 670 2731.88 L 700 2731.88 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 670 2701.88 L 670 2731.88 L 700 2731.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 338px; height: 1px; padding-top: 2752px; margin-left: 362px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="text-align: center">self.events から BehaviourEvent を取り出して<br /></span><span style="text-align: center">libp2pのイベントを</span><span style="text-align: center">返す</span><span style="text-align: center"><br /></span></div></div></div></foreignObject><text x="362" y="2755" fill="#000000" font-family="Helvetica" font-size="12px">self.events から BehaviourEvent を取り出して...</text></switch></g><path d="M 382 2789.88 L 680 2789.88 L 710 2819.88 L 710 2970 L 382 2970 L 382 2789.88 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 680 2789.88 L 680 2819.88 L 710 2819.88 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 680 2789.88 L 680 2819.88 L 710 2819.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 314px; height: 1px; padding-top: 2880px; margin-left: 396px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">NetworkBehaviourAction::GenerateEvent(<br />    BehaviourEvent::PeerConnectedIncoming<br />)<br /><br />NetworkBehaviourAction::GenerateEvent(<br />    BehaviourEvent::PeerConnectedOutgoing<br />)<br /><br />NetworkBehaviourAction::GenerateEvent(<br />    BehaviourEvent::StatusPeer<br />)</div></div></div></foreignObject><text x="396" y="2884" fill="#000000" font-family="Helvetica" font-size="12px" font-weight="bold">NetworkBehaviourAction::GenerateEvent(...</text></switch></g><path d="M 1700 1680 Q 1770 1680 1770 1815 Q 1770 1950 1706.37 1950" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1701.12 1950 L 1708.12 1946.5 L 1706.37 1950 L 1708.12 1953.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1681px; margin-left: 1821px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">Self::inject_connect_ingoing()<br />Self::inject_connect_outgoing()</div></div></div></foreignObject><text x="1821" y="1684" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">Self::inject_connect_ingoing()...</text></switch></g><path d="M 1770 1700 L 2160 1700 L 2190 1730 L 2190 1750 L 1770 1750 L 1770 1700 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2160 1700 L 2160 1730 L 2190 1730 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 2160 1700 L 2160 1730 L 2190 1730" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 418px; height: 1px; padding-top: 1725px; margin-left: 1771px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; "><span>※PeerDBに接続したPeerを登録する※<br />PeerDBは self.network_globals を経由してアクセスする<br /></span></div></div></div></foreignObject><text x="1980" y="1729" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">※PeerDBに接続したPeerを登録する※...</text></switch></g><path d="M 1770 1790 Q 1840 1790 1840 1865 Q 1840 1940 1776.37 1940" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1771.12 1940 L 1778.12 1936.5 L 1776.37 1940 L 1778.12 1943.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1791px; margin-left: 1896px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">Self::inject_peer_connection()</div></div></div></foreignObject><text x="1896" y="1794" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">Self::inject_peer_connection()</text></switch></g><path d="M 1848 1810 L 2238 1810 L 2268 1840 L 2268 1870 L 1848 1870 L 1848 1810 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2238 1810 L 2238 1840 L 2268 1840 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 2238 1810 L 2238 1840 L 2268 1840" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 418px; height: 1px; padding-top: 1840px; margin-left: 1849px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; "><span>接続したPeerにPingするために、下記にPeerIdを追加する<br />self.inbound_ping_peers<br />self.outbound_ping_peers<br /></span></div></div></div></foreignObject><text x="2058" y="1844" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">接続したPeerにPingするために、下記にPeerIdを追加する...</text></switch></g><path d="M 1848 1880 L 2238 1880 L 2268 1910 L 2268 1930 L 1848 1930 L 1848 1880 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2238 1880 L 2238 1910 L 2268 1910 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 2238 1880 L 2238 1910 L 2268 1910" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 418px; height: 1px; padding-top: 1905px; margin-left: 1849px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; "><span>接続したPeerにStatusするために、下記にPeerIdを追加する<br />self.status_peers<br /></span></div></div></div></foreignObject><text x="2058" y="1909" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">接続したPeerにStatusするために、下記にPeerIdを追加する...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>