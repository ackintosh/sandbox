<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="292px" preserveAspectRatio="none" style="width:5079px;height:292px;" version="1.1" viewBox="0 0 5079 292" width="5079px" zoomAndPan="magnify"><defs><filter height="300%" id="frgd8jr9lkufd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[783e77d74fcf07c7885520d9e1d54ffa]
cluster Discv5--><polygon fill="#FFFFFF" filter="url(#frgd8jr9lkufd)" points="16,77.821,75,77.821,82,100.1179,705,100.1179,705,280.821,16,280.821,16,77.821" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="82" y1="100.1179" y2="100.1179"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="20" y="92.8161">Discv5</text><!--MD5=[9dd75fd92da113d30380b27734fd2f01]
cluster Service--><polygon fill="#FFFFFF" filter="url(#frgd8jr9lkufd)" points="729,77.821,793,77.821,800,100.1179,2039,100.1179,2039,280.821,729,280.821,729,77.821" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="729" x2="800" y1="100.1179" y2="100.1179"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="733" y="92.8161">Service</text><!--MD5=[43cda5394aebfa47ddb3fa61c1e08012]
cluster Handler--><polygon fill="#FFFFFF" filter="url(#frgd8jr9lkufd)" points="2063,77.821,2131,77.821,2138,100.1179,2820,100.1179,2820,280.821,2063,280.821,2063,77.821" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2063" x2="2138" y1="100.1179" y2="100.1179"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="2067" y="92.8161">Handler</text><!--MD5=[08e646b6e49514e876c736bf7ebe2eb0]
cluster Socket--><polygon fill="#FFFFFF" filter="url(#frgd8jr9lkufd)" points="2844,183.821,2905,183.821,2912,206.1179,3747,206.1179,3747,280.821,2844,280.821,2844,183.821" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2844" x2="2912" y1="206.1179" y2="206.1179"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="2848" y="198.8161">Socket</text><!--MD5=[b7256eabcb35703930b03d2614be755b]
cluster SendHandler--><polygon fill="#FFFFFF" filter="url(#frgd8jr9lkufd)" points="3771,88.321,3878,88.321,3885,110.6179,4390,110.6179,4390,280.821,3771,280.821,3771,88.321" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="3771" x2="3885" y1="110.6179" y2="110.6179"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="3775" y="103.3161">SendHandler</text><!--MD5=[1d6fdee6fa68b8b2b3f587e510cc6bdc]
cluster RecvHandler--><polygon fill="#FFFFFF" filter="url(#frgd8jr9lkufd)" points="4414,88.321,4520,88.321,4527,110.6179,5057,110.6179,5057,280.821,4414,280.821,4414,88.321" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="4414" x2="4527" y1="110.6179" y2="110.6179"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="4418" y="103.3161">RecvHandler</text><!--MD5=[28d1814b84d81fd58761bd5242168804]
entity discv5_service_channel--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="214" x="78" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="272" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="270" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="270" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="174" x="93" y="251.8161">service_channel: Sender</text><path d="M32,123.321 L32,148.4538 A0,0 0 0 0 32,148.4538 L207.675,148.4538 L191.381,218.7016 L215.675,148.4538 L398,148.4538 A0,0 0 0 0 398,148.4538 L398,133.321 L388,123.321 L32,123.321 A0,0 0 0 0 32,123.321 " fill="#FBFB77" filter="url(#frgd8jr9lkufd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M388,123.321 L388,133.321 L398,133.321 L388,123.321 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="345" x="38" y="140.3879">The channel to make requests from the main service.</text><!--MD5=[d237c23a3099da3a5066730b358c252e]
entity discv5_service_exit--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="255" x="433.5" y="112.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="668.5" y="117.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="666.5" y="119.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="666.5" y="123.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="215" x="448.5" y="145.8161">service_exit: oneshot::Sender</text><path d="M327.5,229.321 L327.5,254.4538 A0,0 0 0 0 327.5,254.4538 L688.5,254.4538 A0,0 0 0 0 688.5,254.4538 L688.5,239.321 L678.5,229.321 L517.964,229.321 L549.76,158.877 L509.964,229.321 L327.5,229.321 A0,0 0 0 0 327.5,229.321 " fill="#FBFB77" filter="url(#frgd8jr9lkufd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M678.5,229.321 L678.5,239.321 L688.5,239.321 L678.5,229.321 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="340" x="333.5" y="246.3879">The exit channel to shutdown the underlying service.</text><!--MD5=[c118a36f39a810db16d3b951cb6e31ed]
entity service_discv5_recv--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="1150.5" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="1325.5" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1323.5" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1323.5" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="1165.5" y="251.8161">discv5_recv: Receiver</text><path d="M1099.5,123.321 L1099.5,148.4538 A0,0 0 0 0 1099.5,148.4538 L1307.13,148.4538 L1263.1,218.7016 L1315.13,148.4538 L1538.5,148.4538 A0,0 0 0 0 1538.5,148.4538 L1538.5,133.321 L1528.5,123.321 L1099.5,123.321 A0,0 0 0 0 1099.5,123.321 " fill="#FBFB77" filter="url(#frgd8jr9lkufd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1528.5,123.321 L1528.5,133.321 L1538.5,133.321 L1528.5,123.321 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="418" x="1105.5" y="140.3879">The channel of messages sent by the controlling discv5 wrapper.</text><!--MD5=[e4712131c72151037734b3f04c5582b1]
entity service_exit--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="209" x="1813.5" y="112.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="2002.5" y="117.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="2000.5" y="119.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="2000.5" y="123.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="169" x="1828.5" y="145.8161">exit: oneshot::Receiver</text><!--MD5=[503cf2fe36922911233ad417125f756b]
entity service_handler_send--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="276" x="803" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="1059" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1057" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1057" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="236" x="818" y="251.8161">handler_send: UnboundedSender</text><path d="M745.5,123.321 L745.5,148.4538 A0,0 0 0 0 745.5,148.4538 L904.99,148.4538 L933.343,218.7016 L912.99,148.4538 L1064.5,148.4538 A0,0 0 0 0 1064.5,148.4538 L1064.5,133.321 L1054.5,123.321 L745.5,123.321 A0,0 0 0 0 745.5,123.321 " fill="#FBFB77" filter="url(#frgd8jr9lkufd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1054.5,123.321 L1054.5,133.321 L1064.5,133.321 L1054.5,123.321 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="751.5" y="140.3879">The channel to send messages to the handler.</text><!--MD5=[8ea56adb7ac8af05e147cf0a2d3ae559]
entity service_handler_recv--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="1574" y="112.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="1758" y="117.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1756" y="119.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1756" y="123.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="164" x="1589" y="145.8161">handler_recv: Receiver</text><path d="M1499.5,229.321 L1499.5,254.4538 A0,0 0 0 0 1499.5,254.4538 L1852.5,254.4538 A0,0 0 0 0 1852.5,254.4538 L1852.5,239.321 L1842.5,229.321 L1680,229.321 L1676,158.877 L1672,229.321 L1499.5,229.321 A0,0 0 0 0 1499.5,229.321 " fill="#FBFB77" filter="url(#frgd8jr9lkufd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1842.5,229.321 L1842.5,239.321 L1852.5,239.321 L1842.5,229.321 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="332" x="1505.5" y="246.3879">The channel to receive messages from the handler.</text><!--MD5=[666f4c8c3d1f95a59ae9c369af6f1d6b]
entity handler_inbound_channel--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="314" x="2079" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="2373" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="2371" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="2371" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="274" x="2094" y="251.8161">inbound_channel: UnboundedReceiver</text><path d="M2079,123.321 L2079,148.4538 A0,0 0 0 0 2079,148.4538 L2279.13,148.4538 L2247.27,218.7016 L2287.13,148.4538 L2499,148.4538 A0,0 0 0 0 2499,148.4538 L2499,133.321 L2489,123.321 L2079,123.321 A0,0 0 0 0 2079,123.321 " fill="#FBFB77" filter="url(#frgd8jr9lkufd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2489,123.321 L2489,133.321 L2499,133.321 L2489,123.321 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="399" x="2085" y="140.3879">The channel that receives requests from the application layer.</text><!--MD5=[d3f18999f68a89d85b63724cee726576]
entity handler_outbound_channel--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="2534" y="112.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="2746" y="117.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="2744" y="119.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="2744" y="123.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="192" x="2549" y="145.8161">outbound_channel: Sender</text><path d="M2428,229.321 L2428,254.4538 A0,0 0 0 0 2428,254.4538 L2804,254.4538 A0,0 0 0 0 2804,254.4538 L2804,239.321 L2794,229.321 L2623.83,229.321 L2642.79,158.877 L2615.83,229.321 L2428,229.321 A0,0 0 0 0 2428,229.321 " fill="#FBFB77" filter="url(#frgd8jr9lkufd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2794,229.321 L2794,239.321 L2804,239.321 L2794,229.321 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="355" x="2434" y="246.3879">The channel to send responses to the application layer.</text><!--MD5=[861ef9b57a8acf06146cc52e33693990]
entity socket_send--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="3597" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="3711" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="3709" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="3709" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="3612" y="251.8161">send: Sender</text><!--MD5=[04212568753f4c35dd5fedad209cf1d6]
entity socket_recv--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="3130.5" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="3253.5" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="3251.5" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="3251.5" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="3145.5" y="251.8161">recv: Receiver</text><!--MD5=[0f5e0ae4472c98b22f83b17da4ddaa16]
entity socket_sender_exit--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="253" x="3308.5" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="3541.5" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="3539.5" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="3539.5" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="213" x="3323.5" y="251.8161">sender_exit: oneshot::Sender</text><!--MD5=[1f55e6d6117c6295e00495ce74ce7fed]
entity socket_recv_exit--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="2860.5" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="3075.5" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="3073.5" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="3073.5" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="2875.5" y="251.8161">recv_exit: oneshot::Sender</text><!--MD5=[5558cc1dcbd2088b35d73f67144daeac]
entity send_handler_handler_recv--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="4086" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="4270" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="4268" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="4268" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="164" x="4101" y="251.8161">handler_recv: Receiver</text><path d="M4086,123.321 L4086,148.4538 A0,0 0 0 0 4086,148.4538 L4221.34,148.4538 L4196.93,218.7016 L4229.34,148.4538 L4374,148.4538 A0,0 0 0 0 4374,148.4538 L4374,133.321 L4364,123.321 L4086,123.321 A0,0 0 0 0 4086,123.321 " fill="#FBFB77" filter="url(#frgd8jr9lkufd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M4364,123.321 L4364,133.321 L4374,133.321 L4364,123.321 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="267" x="4092" y="140.3879">The channel to respond to send requests.</text><!--MD5=[9f5deef3e25f6141ddc228b99cee38bc]
entity send_handler_exit--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="209" x="3800.5" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="3989.5" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="3987.5" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="3987.5" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="169" x="3815.5" y="251.8161">exit: oneshot::Receiver</text><path d="M3787,123.321 L3787,148.4538 A0,0 0 0 0 3787,148.4538 L3913.45,148.4538 L3907.98,218.7016 L3921.45,148.4538 L4051,148.4538 A0,0 0 0 0 4051,148.4538 L4051,133.321 L4041,123.321 L3787,123.321 A0,0 0 0 0 3787,123.321 " fill="#FBFB77" filter="url(#frgd8jr9lkufd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M4041,123.321 L4041,133.321 L4051,133.321 L4041,123.321 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="3793" y="140.3879">Exit channel to shutdown the handler.</text><!--MD5=[970a2de43bdb663939227047ce7229fc]
entity recv_handler_handler--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="4760" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="4894" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="4892" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="4892" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="4775" y="251.8161">handler: Sender</text><path d="M4761.5,123.321 L4761.5,148.4538 A0,0 0 0 0 4761.5,148.4538 L4889.91,148.4538 L4850.61,218.7016 L4897.91,148.4538 L5040.5,148.4538 A0,0 0 0 0 5040.5,148.4538 L5040.5,133.321 L5030.5,123.321 L4761.5,123.321 A0,0 0 0 0 4761.5,123.321 " fill="#FBFB77" filter="url(#frgd8jr9lkufd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M5030.5,123.321 L5030.5,133.321 L5040.5,133.321 L5030.5,123.321 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="4767.5" y="140.3879">The channel to send the packet handler.</text><!--MD5=[b772d9b1fe4b19b963920a8fc530e5c0]
entity recv_handler_exit--><rect fill="#FEFECE" filter="url(#frgd8jr9lkufd)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="209" x="4451.5" y="218.821"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="4640.5" y="223.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="4638.5" y="225.821"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="4638.5" y="229.821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="169" x="4466.5" y="251.8161">exit: oneshot::Receiver</text><path d="M4430,123.321 L4430,148.4538 A0,0 0 0 0 4430,148.4538 L4571.56,148.4538 L4560.68,218.7016 L4579.56,148.4538 L4726,148.4538 A0,0 0 0 0 4726,148.4538 L4726,133.321 L4716,123.321 L4430,123.321 A0,0 0 0 0 4430,123.321 " fill="#FBFB77" filter="url(#frgd8jr9lkufd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M4716,123.321 L4716,133.321 L4726,133.321 L4716,123.321 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="4436" y="140.3879">Exit channel to shutdown the recv handler.</text><!--MD5=[dcb058ca38b61ca20333b991c3362982]
link discv5_service_channel to service_discv5_recv--><path d="M217.349,218.7253 C245.061,200.5121 286.827,176.676 327.5,167.321 C368.161,157.969 1037.67,158.744 1078.5,167.321 C1123.17,176.706 1170.45,198.6051 1203.68,216.2462 " fill="none" id="discv5_service_channel-to-service_discv5_recv" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1208.48,218.8161,1202.4297,211.0448,1204.0708,216.4583,1198.6573,218.0995,1208.48,218.8161" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[911b5dc29c61e2e128261c0a6afde26f]
link discv5_service_exit to service_exit--><path d="M593.591,112.77 C629.205,89.113 688.894,53.844 746.5,39.821 C857.805,12.726 1668.05,6 1777.5,39.821 C1821.35,53.372 1863.72,85.832 1890.26,109.259 " fill="none" id="discv5_service_exit-to-service_exit" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1894.06,112.647,1890.0065,103.671,1890.3288,109.3186,1884.6811,109.6409,1894.06,112.647" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1158e2f885b194a852ac1c8c221a3d5a]
link service_handler_send to handler_inbound_channel--><path d="M990.497,218.7804 C1032.15,200.7326 1093.82,177.099 1150.5,167.321 C1198.18,159.095 1973.79,159.271 2021.5,167.321 C2077.27,176.73 2137.9,198.9924 2180.43,216.7457 " fill="none" id="service_handler_send-to-handler_inbound_channel" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2185.26,218.7772,2178.5201,211.5957,2180.6525,216.8352,2175.413,218.9676,2185.26,218.7772" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[220eae12dd7aee37bc7786fe62f5f747]
link handler_outbound_channel to service_handler_recv--><path d="M2623.84,112.618 C2595.34,89.017 2547.24,53.965 2498.5,39.821 C2425.4,18.612 1886.1,16.983 1813.5,39.821 C1770.35,53.393 1728.93,85.848 1703.04,109.269 " fill="none" id="handler_outbound_channel-to-service_handler_recv" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1699.33,112.656,1708.673,109.5401,1703.0219,109.2841,1703.278,103.6331,1699.33,112.656" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[48a09d7941f9b91598784529ec6d3ba9]
link socket_send to send_handler_handler_recv--><path d="M3690.94,218.8058 C3714.78,200.2346 3751.43,175.847 3788.5,167.321 C3836.36,156.312 3961.35,157.675 4009.5,167.321 C4056.45,176.726 4106.48,198.7688 4141.59,216.4522 " fill="none" id="socket_send-to-send_handler_handler_recv" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="4146.23,218.8062,4140.007,211.1724,4141.7691,216.5479,4136.3937,218.3099,4146.23,218.8062" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[abbefe93fcac29052bb025c02f796c4c]
link socket_sender_exit to send_handler_exit--><path d="M3472.82,218.6445 C3504.54,200.6471 3551.71,177.153 3596.5,167.321 C3625.37,160.983 3700.54,161.428 3729.5,167.321 C3775.75,176.732 3824.93,198.7739 3859.42,216.4556 " fill="none" id="socket_sender_exit-to-send_handler_exit" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="3863.98,218.8093,3857.8269,211.1191,3859.5399,216.5103,3854.1486,218.2233,3863.98,218.8093" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[2205c610adac6ddb81a8ec2f15fbf2a6]
link recv_handler_handler to socket_recv--><path d="M4795.73,218.8082 C4760.9,200.777 4709.07,177.152 4660.5,167.321 C4623.69,159.871 3345.1,158.903 3308.5,167.321 C3277.16,174.529 3247.71,196.796 3227.76,215.1238 " fill="none" id="recv_handler_handler-to-socket_recv" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="3223.9,218.7313,3233.2069,215.5092,3227.5533,215.3176,3227.7449,209.664,3223.9,218.7313" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[636a8de5a738c5c374fdd773c859bc45]
link socket_recv_exit to recv_handler_exit--><path d="M3013.23,218.8136 C3043.07,200.7855 3087.71,177.162 3130.5,167.321 C3164.12,159.588 4338.64,160.709 4372.5,167.321 C4420.62,176.717 4472.07,198.7608 4508.21,216.4469 " fill="none" id="socket_recv_exit-to-recv_handler_exit" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="4512.98,218.8012,4506.6812,211.2299,4508.4968,216.5874,4503.1392,218.403,4512.98,218.8012" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5ae50122a50c5a994ff53490bb6756c9]
@startuml
package "Discv5" {
	[service_channel: Sender] as discv5_service_channel
	note top of discv5_service_channel: The channel to make requests from the main service.

	[service_exit: oneshot::Sender] as discv5_service_exit
	note bottom of discv5_service_exit: The exit channel to shutdown the underlying service.
}

package "Service" {
	[discv5_recv: Receiver] as service_discv5_recv
	note top of service_discv5_recv: The channel of messages sent by the controlling discv5 wrapper.
	[discv5_service_channel] -> service_discv5_recv

	[exit: oneshot::Receiver] as service_exit
	[discv5_service_exit] -> service_exit

	[handler_send: UnboundedSender] as service_handler_send
	note top of service_handler_send: The channel to send messages to the handler.

	[handler_recv: Receiver] as service_handler_recv
	note bottom of service_handler_recv: The channel to receive messages from the handler.
}

package "Handler" {
	[inbound_channel: UnboundedReceiver] as handler_inbound_channel
	note top of handler_inbound_channel: The channel that receives requests from the application layer.
	[service_handler_send] -> handler_inbound_channel

	[outbound_channel: Sender] as handler_outbound_channel
	note bottom of handler_outbound_channel: The channel to send responses to the application layer.
	handler_outbound_channel -> [service_handler_recv]
}

package "Socket" {
	[send: Sender] as socket_send

	[recv: Receiver] as socket_recv

	[sender_exit: oneshot::Sender] as socket_sender_exit

	[recv_exit: oneshot::Sender] as socket_recv_exit
}

package "SendHandler" {
	[handler_recv: Receiver] as send_handler_handler_recv
	note top of send_handler_handler_recv: The channel to respond to send requests.
	[socket_send] -> send_handler_handler_recv

	[exit: oneshot::Receiver] as send_handler_exit
	note top of send_handler_exit: Exit channel to shutdown the handler.
	[socket_sender_exit] -> send_handler_exit
}

package "RecvHandler" {
	[handler: Sender] as recv_handler_handler
	note top of recv_handler_handler: The channel to send the packet handler.
	recv_handler_handler -> [socket_recv]

	[exit: oneshot::Receiver] as recv_handler_exit
	note top of recv_handler_exit: Exit channel to shutdown the recv handler.
	socket_recv_exit -> recv_handler_exit
}
@enduml

PlantUML version 1.2020.18beta4(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>